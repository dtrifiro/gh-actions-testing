name: python windows test

on:
  push:
  workflow_dispatch:

jobs:
  build:
    runs-on: ${{matrix.os}}
    strategy:
      matrix:
        pyv: ["3.9", "3.10", "3.13"]
        os: ["macos-latest", "ubuntu-latest", "windows-latest"]

    steps:
      - name: setup-python
        uses: actions/setup-python@v5
        with:
          python-version: ${{matrix.pyv}}
      - name: print
        run: |
          import sys

          print(f"{sys.version_info=}")

          try:
            import _curses
            print("_curses found")
          except:
            print("_curses not found")
          try:
              import curses
              print("curses found")
          except:
            print("curses not found")
          try:
            import _readline
            print("_readline found")
          except:
            print("_readline not found")
          try:
              import readline
              print("readline found")
          except:
            print("readline not found")



          print(
            [
              module for module in sys.modules
              if any(
                name in str(module) for name in ("readline", "curses")
              )
            ]
          )
        shell: python
