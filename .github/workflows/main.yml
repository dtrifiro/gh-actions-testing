name: Test dynamic uses

on:
  push:

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: jenseng/dynamic-uses@v1
        with:
          uses: ./.github/actions/composite

      - run: |
          echo "EOF syntax"
          cat <<EOF
          var_name=${var_name}
          var_name (github mustache)=${{env.var_name}}
          EOF

          echo "standard syntax syntax"
          echo var_name=${var_name}
          echo "var_name (github mustache)=${{env.var_name}}"
        shell: bash
